<!-- contact us -->
 <section class="py-24 px-6 bg-gradient-to-b from-white to-gray-50 relative overflow-hidden">
    <!-- Background Pattern -->
    <div class="absolute inset-0 opacity-5">
        <div class="absolute inset-0" style="background-image: radial-gradient(circle at 2px 2px, #2FA4E7 1px, transparent 0); background-size: 40px 40px;"></div>
    </div>
    
    <!-- Floating Shapes -->
    <div class="absolute top-20 left-10 w-72 h-72 bg-gradient-to-br from-[#2FA4E7]/10 to-transparent rounded-full filter blur-3xl"></div>
    <div class="absolute bottom-20 right-10 w-96 h-96 bg-gradient-to-br from-[#3CB371]/10 to-transparent rounded-full filter blur-3xl"></div>

    <div class="container mx-auto max-w-6xl relative z-10">
        <!-- Section Header -->
        <div class="text-center mb-16">
            <h2 class="text-4xl md:text-5xl font-bold mb-6 brand-font">
                <span class="brand-gradient">Get In Touch</span> With Us
            </h2>
            <p class="text-gray-600 text-xl max-w-3xl mx-auto">
                Have questions about house hunting or moving services? We're here to help you every step of the way.
            </p>
        </div>

        <div class="grid grid-cols-1 lg:grid-cols-2 gap-12">
            <!-- Left Column - Contact Information -->
            <div class="space-y-8">
                <!-- Contact Cards -->
                <div class="space-y-6">
                    <!-- Phone Card -->
                    <div class="group">
                        <div class="bg-gradient-to-r from-white to-blue-50/30 rounded-2xl p-8 border border-blue-100 hover:border-[#2FA4E7] hover:shadow-xl transition-all duration-500 hover:-translate-y-1">
                            <div class="flex items-start">
                                <div class="w-16 h-16 rounded-2xl bg-gradient-to-br from-[#2FA4E7] to-blue-300 flex items-center justify-center mr-6 group-hover:scale-110 transition-transform duration-500">
                                    <i class="fas fa-phone-alt text-2xl text-white"></i>
                                </div>
                                <div class="flex-1">
                                    <h3 class="text-2xl font-bold text-gray-800 mb-2">Call Us</h3>
                                    <p class="text-gray-600 mb-4">Speak directly with our support team for immediate assistance</p>
                                    <a href="tel:+254769525570" class="inline-flex items-center text-xl font-bold text-[#2FA4E7] hover:text-blue-600 transition-colors duration-300 group-hover:translate-x-2 transition-transform">
                                        <i class="fas fa-phone mr-3 text-lg"></i> +254 769 525 570
                                    </a>
                                    <p class="text-gray-500 text-sm mt-2">Available Monday-Saturday, 8AM-8PM</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Email Card -->
                    <div class="group">
                        <div class="bg-gradient-to-r from-white to-green-50/30 rounded-2xl p-8 border border-green-100 hover:border-[#3CB371] hover:shadow-xl transition-all duration-500 hover:-translate-y-1">
                            <div class="flex items-start">
                                <div class="w-16 h-16 rounded-2xl bg-gradient-to-br from-[#3CB371] to-green-300 flex items-center justify-center mr-6 group-hover:scale-110 transition-transform duration-500">
                                    <i class="fas fa-envelope text-2xl text-white"></i>
                                </div>
                                <div class="flex-1">
                                    <h3 class="text-2xl font-bold text-gray-800 mb-2">Email Us</h3>
                                    <p class="text-gray-600 mb-4">Send us your inquiries and we'll respond within 24 hours</p>
                                    <a href="mailto:wenbusale383@gmail.com" class="inline-flex items-center text-xl font-bold text-[#3CB371] hover:text-green-600 transition-colors duration-300 group-hover:translate-x-2 transition-transform">
                                        <i class="fas fa-envelope mr-3 text-lg"></i> wenbusale383@gmail.com
                                    </a>
                                    <p class="text-gray-500 text-sm mt-2">We typically respond within 2-4 hours</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Office Hours Card -->
                    <div class="group">
                        <div class="bg-gradient-to-r from-white to-blue-50/30 rounded-2xl p-8 border border-blue-100 hover:border-[#2FA4E7] hover:shadow-xl transition-all duration-500 hover:-translate-y-1">
                            <div class="flex items-start">
                                <div class="w-16 h-16 rounded-2xl bg-gradient-to-br from-[#2FA4E7] to-[#3CB371] flex items-center justify-center mr-6 group-hover:scale-110 transition-transform duration-500">
                                    <i class="fas fa-clock text-2xl text-white"></i>
                                </div>
                                <div class="flex-1">
                                    <h3 class="text-2xl font-bold text-gray-800 mb-2">Business Hours</h3>
                                    <div class="space-y-2">
                                        <div class="flex justify-between items-center py-2 border-b border-gray-100">
                                            <span class="text-gray-700">Monday - Friday</span>
                                            <span class="font-semibold text-[#2FA4E7]">8:00 AM - 8:00 PM</span>
                                        </div>
                                        <div class="flex justify-between items-center py-2 border-b border-gray-100">
                                            <span class="text-gray-700">Saturday</span>
                                            <span class="font-semibold text-[#3CB371]">9:00 AM - 6:00 PM</span>
                                        </div>
                                        <div class="flex justify-between items-center py-2">
                                            <span class="text-gray-700">Sunday</span>
                                            <span class="font-semibold text-gray-500">Closed</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Social Media Section -->
                <div class="pt-8">
                    <h3 class="text-2xl font-bold text-gray-800 mb-6">Connect With Us</h3>
                    <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
                        <!-- Facebook -->
                        <a href="#" class="group relative overflow-hidden">
                            <div class="bg-gradient-to-br from-blue-600 to-blue-700 rounded-2xl p-6 text-center hover:shadow-2xl hover:-translate-y-2 transition-all duration-500">
                                <div class="w-12 h-12 rounded-full bg-white/20 flex items-center justify-center mx-auto mb-4 group-hover:scale-110 transition-transform duration-500">
                                    <i class="fab fa-facebook-f text-2xl text-white"></i>
                                </div>
                                <span class="text-white font-semibold">Facebook</span>
                                <div class="absolute inset-0 bg-gradient-to-t from-black/10 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"></div>
                            </div>
                        </a>

                        <!-- Twitter -->
                        <a href="#" class="group relative overflow-hidden">
                            <div class="bg-gradient-to-br from-sky-500 to-sky-600 rounded-2xl p-6 text-center hover:shadow-2xl hover:-translate-y-2 transition-all duration-500">
                                <div class="w-12 h-12 rounded-full bg-white/20 flex items-center justify-center mx-auto mb-4 group-hover:scale-110 transition-transform duration-500">
                                    <i class="fab fa-twitter text-2xl text-white"></i>
                                </div>
                                <span class="text-white font-semibold">Twitter</span>
                                <div class="absolute inset-0 bg-gradient-to-t from-black/10 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"></div>
                            </div>
                        </a>

                        <!-- Instagram -->
                        <a href="#" class="group relative overflow-hidden">
                            <div class="bg-gradient-to-br from-pink-600 to-purple-600 rounded-2xl p-6 text-center hover:shadow-2xl hover:-translate-y-2 transition-all duration-500">
                                <div class="w-12 h-12 rounded-full bg-white/20 flex items-center justify-center mx-auto mb-4 group-hover:scale-110 transition-transform duration-500">
                                    <i class="fab fa-instagram text-2xl text-white"></i>
                                </div>
                                <span class="text-white font-semibold">Instagram</span>
                                <div class="absolute inset-0 bg-gradient-to-t from-black/10 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"></div>
                            </div>
                        </a>

                        <!-- LinkedIn -->
                        <a href="#" class="group relative overflow-hidden">
                            <div class="bg-gradient-to-br from-blue-700 to-blue-800 rounded-2xl p-6 text-center hover:shadow-2xl hover:-translate-y-2 transition-all duration-500">
                                <div class="w-12 h-12 rounded-full bg-white/20 flex items-center justify-center mx-auto mb-4 group-hover:scale-110 transition-transform duration-500">
                                    <i class="fab fa-linkedin-in text-2xl text-white"></i>
                                </div>
                                <span class="text-white font-semibold">LinkedIn</span>
                                <div class="absolute inset-0 bg-gradient-to-t from-black/10 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"></div>
                            </div>
                        </a>
                    </div>
                </div>
            </div>

            <!-- Right Column - Contact Form -->
            <div>
                <div class="bg-white rounded-3xl shadow-2xl p-8 md:p-10 border border-gray-100">
                    <h3 class="text-2xl font-bold text-gray-800 mb-2">Send Us a Message</h3>
                    <p class="text-gray-600 mb-8">Fill out the form below and we'll get back to you as soon as possible</p>
                    
                    <form id="contactForm" class="space-y-6">
                        <!-- Name Field -->
                        <div class="group">
                            <label class="block text-sm font-medium text-gray-700 mb-2">
                                <i class="fas fa-user mr-2 text-[#2FA4E7]"></i> Full Name *
                            </label>
                            <div class="relative">
                                <input type="text"
                                        name="name"
                                        required
                                        class="w-full px-5 py-4 rounded-xl border border-gray-300 focus:border-[#2FA4E7] focus:ring-4 focus:ring-[#2FA4E7]/10 outline-none transition-all duration-300 group-hover:shadow-md"
                                        placeholder="Enter your full name">
                                <div class="absolute right-3 top-1/2 transform -translate-y-1/2 opacity-0 group-hover:opacity-100 transition-opacity duration-300">
                                    <i class="fas fa-user-check text-[#3CB371]"></i>
                                </div>
                            </div>
                        </div>

                        <!-- Email Field -->
                        <div class="group">
                            <label class="block text-sm font-medium text-gray-700 mb-2">
                                <i class="fas fa-envelope mr-2 text-[#3CB371]"></i> Email Address *
                            </label>
                            <div class="relative">
                                <input type="email"
                                        name="email"
                                        required
                                        class="w-full px-5 py-4 rounded-xl border border-gray-300 focus:border-[#3CB371] focus:ring-4 focus:ring-[#3CB371]/10 outline-none transition-all duration-300 group-hover:shadow-md"
                                        placeholder="you@example.com">
                                <div class="absolute right-3 top-1/2 transform -translate-y-1/2 opacity-0 group-hover:opacity-100 transition-opacity duration-300">
                                    <i class="fas fa-envelope-open text-[#2FA4E7]"></i>
                                </div>
                            </div>
                        </div>

                        <!-- Subject Field -->
                        <div class="group">
                            <label class="block text-sm font-medium text-gray-700 mb-2">
                                <i class="fas fa-tag mr-2 text-[#2FA4E7]"></i> Subject *
                            </label>
                            <div class="grid grid-cols-2 md:grid-cols-3 gap-3">
                                <button type="button" class="subject-btn py-3 rounded-xl border border-gray-300 text-gray-700 hover:border-[#2FA4E7] hover:text-[#2FA4E7] transition-all duration-300" data-subject="House Hunting">
                                    <i class="fas fa-home mr-2"></i> House Hunting
                                </button>
                                <button type="button" class="subject-btn py-3 rounded-xl border border-gray-300 text-gray-700 hover:border-[#3CB371] hover:text-[#3CB371] transition-all duration-300" data-subject="Moving Services">
                                    <i class="fas fa-truck-moving mr-2"></i> Moving Services
                                </button>
                                <button type="button" class="subject-btn py-3 rounded-xl border border-gray-300 text-gray-700 hover:border-[#2FA4E7] hover:text-[#2FA4E7] transition-all duration-300" data-subject="Landlord Inquiry">
                                    <i class="fas fa-user-tie mr-2"></i> Landlord Inquiry
                                </button>
                            </div>
                            <input type="hidden" id="selectedSubject" name="subject" required>
                        </div>

                        <!-- Message Field -->
                        <div class="group">
                            <label class="block text-sm font-medium text-gray-700 mb-2">
                                <i class="fas fa-comment-dots mr-2 text-[#3CB371]"></i> Message *
                            </label>
                            <div class="relative">
                                <textarea
                                    name="message"
                                    rows="5"
                                    required
                                    class="w-full px-5 py-4 rounded-xl border border-gray-300 focus:border-[#3CB371] focus:ring-4 focus:ring-[#3CB371]/10 outline-none transition-all duration-300 group-hover:shadow-md resize-none"
                                    placeholder="How can we help you today?"></textarea>
                                <div class="absolute right-3 top-3 opacity-0 group-hover:opacity-100 transition-opacity duration-300">
                                    <i class="fas fa-edit text-[#2FA4E7]"></i>
                                </div>
                            </div>
                        </div>

                        <!-- Submit Button -->
                        <button type="submit" 
                                class="w-full py-4 bg-gradient-to-r from-[#2FA4E7] to-[#3CB371] text-white font-semibold rounded-xl shadow-lg hover:shadow-xl hover:scale-[1.02] transition-all duration-300 transform flex items-center justify-center group">
                            <span class="group-hover:translate-x-1 transition-transform duration-300">
                                Send Message <i class="fas fa-paper-plane ml-2"></i>
                            </span>
                        </button>

                        <!-- Privacy Note -->
                        <p class="text-center text-sm text-gray-500">
                            <i class="fas fa-lock mr-1"></i> Your information is secure. We'll never share your details.
                        </p>
                    </form>
                </div>

                <!-- Quick Response Stats -->
                <div class="mt-8 grid grid-cols-2 md:grid-cols-3 gap-4">
                    <div class="bg-white p-4 rounded-2xl border border-gray-100 shadow-sm text-center">
                        <p class="text-2xl font-bold text-[#2FA4E7] animate-number">2 Hours</p>
                        <p class="text-sm text-gray-600">Avg. Response</p>
                    </div>
                    <div class="bg-white p-4 rounded-2xl border border-gray-100 shadow-sm text-center">
                        <p class="text-2xl font-bold text-[#3CB371] animate-number">98%</p>
                        <p class="text-sm text-gray-600">Satisfaction</p>
                    </div>
                    <div class="bg-white p-4 rounded-2xl border border-gray-100 shadow-sm text-center">
                        <p class="text-2xl font-bold text-[#2FA4E7] animate-number">24/7</p>
                        <p class="text-sm text-gray-600">Support</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Location & Map Placeholder -->
        <div class="mt-16 bg-gradient-to-r from-[#2FA4E7]/10 to-[#3CB371]/10 rounded-3xl p-8 border border-blue-100/50">
            <div class="flex flex-col md:flex-row items-center justify-between">
                <div class="mb-6 md:mb-0 md:pr-8">
                    <h3 class="text-2xl font-bold text-gray-800 mb-3">
                        <i class="fas fa-map-marker-alt mr-2 text-[#2FA4E7]"></i> Our Location
                    </h3>
                    <p class="text-gray-600 mb-2">
                        <i class="fas fa-building mr-2 text-gray-400"></i> Rheaspark Headquarters
                    </p>
                    <p class="text-gray-600">
                        <i class="fas fa-location-dot mr-2 text-gray-400"></i> Nairobi, Kenya
                    </p>
                    <p class="text-gray-500 text-sm mt-4">
                        <i class="fas fa-info-circle mr-2"></i> We serve clients across Kenya with our online platform
                    </p>
                </div>
                <div class="w-full md:w-2/3 h-64 rounded-2xl overflow-hidden border border-gray-200 shadow-md">
                    <!-- Map Placeholder -->
                    <div class="w-full h-full bg-gradient-to-br from-gray-100 to-gray-200 flex items-center justify-center relative">
                        <div class="text-center">
                            <i class="fas fa-map text-4xl text-gray-400 mb-3"></i>
                            <p class="text-gray-600 font-medium">Interactive Map</p>
                            <p class="text-gray-500 text-sm">Would show our location here</p>
                        </div>
                        <!-- Map Pin -->
                        <div class="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2">
                            <div class="w-10 h-10 rounded-full bg-[#2FA4E7] border-4 border-white shadow-lg animate-pulse"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Floating WhatsApp Button (Now on Bottom Right) -->
<div id="whatsappButton" class="fixed bottom-8 right-8 z-50 animate-bounce-slow">
    <a href="https://wa.me/254769525570?text=Hello%20Rheaspark,%20I%20need%20help%20with..." 
       target="_blank" 
       rel="noopener noreferrer"
       class="whatsapp-button group">
        <div class="relative">
            <!-- Main Button -->
            <div class="w-16 h-16 rounded-full bg-gradient-to-br from-[#25D366] to-green-500 shadow-2xl flex items-center justify-center hover:scale-110 hover:rotate-12 transition-all duration-500">
                <i class="fab fa-whatsapp text-3xl text-white"></i>
            </div>
            
            <!-- Notification Badge -->
            <div class="absolute -top-2 -right-2 w-8 h-8 rounded-full bg-red-500 border-4 border-white flex items-center justify-center animate-ping-slow">
                <span class="text-white text-xs font-bold">!</span>
            </div>
            
            <!-- Tooltip (Now on left side) -->
            <div class="absolute right-full mr-3 top-1/2 transform -translate-y-1/2 opacity-0 group-hover:opacity-100 transition-opacity duration-300 pointer-events-none">
                <div class="bg-gray-900 text-white px-4 py-2 rounded-lg whitespace-nowrap">
                    <span class="font-semibold">Chat with us on WhatsApp</span>
                    <div class="absolute right-0 top-1/2 transform -translate-y-1/2 translate-x-1">
                        <div class="w-2 h-2 bg-gray-900 rotate-45"></div>
                    </div>
                </div>
            </div>
        </div>
    </a>
</div>

<!-- Chat Notification (Now on Bottom Right) -->
<div id="chatNotification" class="fixed bottom-32 right-8 z-40 hidden">
    <div class="bg-white rounded-2xl shadow-2xl p-4 max-w-xs border border-gray-200 animate-slide-up">
        <div class="flex items-start">
            <div class="w-10 h-10 rounded-full bg-gradient-to-r from-[#2FA4E7] to-[#3CB371] flex items-center justify-center mr-3 flex-shrink-0">
                <i class="fas fa-headset text-white"></i>
            </div>
            <div>
                <p class="font-semibold text-gray-800 mb-1">Need help?</p>
                <p class="text-sm text-gray-600 mb-2">We're here to assist you with house hunting or moving services.</p>
                <button id="closeNotification" class="text-xs text-[#2FA4E7] font-medium hover:underline">
                    Got it, thanks!
                </button>
            </div>
        </div>
    </div>
</div>

<style>
    /* Brand gradient utility */
    .brand-gradient {
        background: linear-gradient(90deg, #2FA4E7 0%, #3CB371 100%);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
    }
    
    /* Custom brand font class */
    .brand-font {
        font-family: 'Playfair Display', serif;
    }
    
    /* Custom Animations */
    @keyframes bounce-slow {
        0%, 100% { transform: translateY(0); }
        50% { transform: translateY(-10px); }
    }
    
    @keyframes ping-slow {
        0% { transform: scale(1); opacity: 1; }
        70% { transform: scale(1.2); opacity: 0.7; }
        100% { transform: scale(1); opacity: 1; }
    }
    
    @keyframes slide-up {
        from { transform: translateY(20px); opacity: 0; }
        to { transform: translateY(0); opacity: 1; }
    }
    
    .animate-bounce-slow {
        animation: bounce-slow 3s ease-in-out infinite;
    }
    
    .animate-ping-slow {
        animation: ping-slow 2s ease-in-out infinite;
    }
    
    .animate-slide-up {
        animation: slide-up 0.5s ease-out;
    }
    
    /* WhatsApp Button Hover Effects */
    .whatsapp-button:hover .w-16 {
        box-shadow: 0 0 30px rgba(37, 211, 102, 0.5);
    }
    
    /* Form input focus effects */
    input:focus, textarea:focus, button:focus {
        outline: none;
    }
    
    /* Subject button active state */
    .subject-btn.active {
        background: linear-gradient(90deg, #2FA4E7 0%, #3CB371 100%);
        color: white;
        border-color: transparent;
    }
    
    /* Responsive adjustments */
    @media (max-width: 768px) {
        #whatsappButton {
            bottom: 4rem;
            right: 1rem;
            left: auto;
        }
        
        #chatNotification {
            right: 1rem;
            left: auto;
            max-width: calc(100vw - 2rem);
        }
    }
    
    /* Scroll animation for contact cards */
    @media (min-width: 1024px) {
        .group:nth-child(1) .bg-gradient-to-r { transition-delay: 0.1s; }
        .group:nth-child(2) .bg-gradient-to-r { transition-delay: 0.2s; }
        .group:nth-child(3) .bg-gradient-to-r { transition-delay: 0.3s; }
    }
    
    /* Smooth transitions */
    .transition-all {
        transition-property: all;
        transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
    }
    
    /* Tooltip positioning for right side */
    .right-full {
        right: 100%;
    }
    
    .mr-3 {
        margin-right: 0.75rem;
    }
</style>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        // Subject button selection
        const subjectButtons = document.querySelectorAll('.subject-btn');
        const subjectInput = document.getElementById('selectedSubject');
        
        subjectButtons.forEach(button => {
            button.addEventListener('click', function() {
                subjectButtons.forEach(btn => btn.classList.remove('active'));
                this.classList.add('active');
                subjectInput.value = this.dataset.subject;
            });
        });
        
        // Set first subject as default
        if (subjectButtons.length > 0 && !subjectInput.value) {
            subjectButtons[0].click();
        }
        
        // Contact form submission
        const contactForm = document.getElementById('contactForm');
        contactForm.addEventListener('submit', function(e) {
            e.preventDefault();

            // Get form data
            const formData = new FormData(this);
            const name = this.querySelector('input[type="text"]').value;
            const email = this.querySelector('input[type="email"]').value;
            const subject = subjectInput.value;
            const message = this.querySelector('textarea').value;

            // Show loading state
            const submitButton = this.querySelector('button[type="submit"]');
            const originalText = submitButton.innerHTML;

            submitButton.innerHTML = '<i class="fas fa-spinner fa-spin mr-2"></i> Sending...';
            submitButton.disabled = true;

            // Send AJAX request to API
            fetch('api/send_contact.php', {
                method: 'POST',
                body: formData
            })
            .then(response => response.json())
            .then(data => {
                if (data.success) {
                    // Success state
                    submitButton.innerHTML = '<i class="fas fa-check mr-2"></i> Message Sent!';
                    submitButton.classList.remove('from-[#2FA4E7]', 'to-[#3CB371]');
                    submitButton.classList.add('from-green-500', 'to-green-600');

                    // Show success message
                    const successMessage = document.createElement('div');
                    successMessage.className = 'mt-4 p-4 bg-green-50 text-green-800 rounded-xl border border-green-200';
                    successMessage.innerHTML = `
                        <div class="flex items-center">
                            <i class="fas fa-check-circle text-green-600 text-xl mr-3"></i>
                            <div>
                                <p class="font-semibold">Thank you, ${name}!</p>
                                <p class="text-sm">We've received your message about "${subject}". We'll respond to ${email} within 2 hours.</p>
                            </div>
                        </div>
                    `;

                    contactForm.appendChild(successMessage);

                    // Reset form after 3 seconds
                    setTimeout(() => {
                        contactForm.reset();
                        submitButton.innerHTML = originalText;
                        submitButton.classList.remove('from-green-500', 'to-green-600');
                        submitButton.classList.add('from-[#2FA4E7]', 'to-[#3CB371]');
                        submitButton.disabled = false;
                        successMessage.remove();
                        subjectButtons[0].click(); // Reset to first subject
                    }, 3000);
                } else {
                    // Error state
                    submitButton.innerHTML = '<i class="fas fa-exclamation-triangle mr-2"></i> Error';
                    submitButton.classList.remove('from-[#2FA4E7]', 'to-[#3CB371]');
                    submitButton.classList.add('from-red-500', 'to-red-600');

                    // Show error message
                    const errorMessage = document.createElement('div');
                    errorMessage.className = 'mt-4 p-4 bg-red-50 text-red-800 rounded-xl border border-red-200';
                    errorMessage.innerHTML = `
                        <div class="flex items-center">
                            <i class="fas fa-exclamation-circle text-red-600 text-xl mr-3"></i>
                            <div>
                                <p class="font-semibold">Error sending message</p>
                                <p class="text-sm">${data.error || 'Please try again later.'}</p>
                            </div>
                        </div>
                    `;

                    contactForm.appendChild(errorMessage);

                    // Reset button after 3 seconds
                    setTimeout(() => {
                        submitButton.innerHTML = originalText;
                        submitButton.classList.remove('from-red-500', 'to-red-600');
                        submitButton.classList.add('from-[#2FA4E7]', 'to-[#3CB371]');
                        submitButton.disabled = false;
                        errorMessage.remove();
                    }, 3000);
                }
            })
            .catch(error => {
                console.error('Error:', error);
                // Error state
                submitButton.innerHTML = '<i class="fas fa-exclamation-triangle mr-2"></i> Error';
                submitButton.classList.remove('from-[#2FA4E7]', 'to-[#3CB371]');
                submitButton.classList.add('from-red-500', 'to-red-600');

                // Show error message
                const errorMessage = document.createElement('div');
                errorMessage.className = 'mt-4 p-4 bg-red-50 text-red-800 rounded-xl border border-red-200';
                errorMessage.innerHTML = `
                    <div class="flex items-center">
                        <i class="fas fa-exclamation-circle text-red-600 text-xl mr-3"></i>
                        <div>
                            <p class="font-semibold">Error sending message</p>
                            <p class="text-sm">Please try again later.</p>
                        </div>
                    </div>
                `;

                contactForm.appendChild(errorMessage);

                // Reset button after 3 seconds
                setTimeout(() => {
                    submitButton.innerHTML = originalText;
                    submitButton.classList.remove('from-red-500', 'to-red-600');
                    submitButton.classList.add('from-[#2FA4E7]', 'to-[#3CB371]');
                    submitButton.disabled = false;
                    errorMessage.remove();
                }, 3000);
            });
        });
        
        // Chat notification (moved to bottom right)
        const chatNotification = document.getElementById('chatNotification');
        const closeNotification = document.getElementById('closeNotification');
        const whatsappButton = document.getElementById('whatsappButton');
        
        // Show notification after 5 seconds
        setTimeout(() => {
            if (!localStorage.getItem('chatNotificationClosed')) {
                chatNotification.classList.remove('hidden');
            }
        }, 5000);
        
        // Close notification
        closeNotification.addEventListener('click', function() {
            chatNotification.classList.add('hidden');
            localStorage.setItem('chatNotificationClosed', 'true');
        });
        
        // WhatsApp button click tracking
        whatsappButton.addEventListener('click', function() {
            // Track WhatsApp clicks (you can integrate with analytics here)
            console.log('WhatsApp clicked - Number: +254769525570');
            
            // Hide notification if visible
            chatNotification.classList.add('hidden');
            localStorage.setItem('chatNotificationClosed', 'true');
        });
        
        // Add hover effects to contact cards
        const contactCards = document.querySelectorAll('.group .bg-gradient-to-r');
        contactCards.forEach(card => {
            card.addEventListener('mouseenter', function() {
                this.style.transform = 'translateY(-8px)';
            });
            
            card.addEventListener('mouseleave', function() {
                this.style.transform = 'translateY(0)';
            });
        });
        
        // Add click animation to social media cards
        const socialCards = document.querySelectorAll('.group.relative');
        socialCards.forEach(card => {
            card.addEventListener('click', function(e) {
                e.preventDefault();
                
                // Add click animation
                this.style.transform = 'scale(0.95)';
                setTimeout(() => {
                    this.style.transform = 'scale(1)';
                }, 150);
                
                // Show alert (in real implementation, these would link to actual social media)
                const platform = this.querySelector('span').textContent;
                alert(`In a real implementation, this would link to our ${platform} page.\n\nFor now, please use WhatsApp, email, or phone for contact.`);
            });
        });
        
        // Animate stats on scroll
        const stats = document.querySelectorAll('.animate-number');
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    const stat = entry.target;
                    const text = stat.textContent.trim();
                    let targetValue = 0;
                    let suffix = '';

                    if (text.includes('%')) {
                        targetValue = parseInt(text);
                        suffix = '%';
                    } else if (text.includes('+')) {
                        targetValue = parseInt(text.replace(/,/g, ''));
                        suffix = '+';
                    } else if (text.includes(' Hours')) {
                        targetValue = parseInt(text);
                        suffix = ' Hours';
                    } else if (text.includes(' Days')) {
                        targetValue = parseInt(text);
                        suffix = ' Days';
                    } else if (text === '24/7') {
                        stat.style.opacity = '1';
                        observer.unobserve(stat);
                        return;
                    }

                    let currentValue = 0;
                    const increment = targetValue / 50;

                    const timer = setInterval(() => {
                        currentValue += increment;
                        if (currentValue >= targetValue) {
                            stat.textContent = targetValue.toLocaleString() + suffix;
                            clearInterval(timer);
                        } else {
                            stat.textContent = Math.floor(currentValue).toLocaleString() + suffix;
                        }
                    }, 30);

                    observer.unobserve(stat);
                }
            });
        }, { threshold: 0.5 });

        stats.forEach(stat => observer.observe(stat));
        
        // Add floating effect to WhatsApp button on mouse move (for bottom right)
        document.addEventListener('mousemove', function(e) {
            const x = -(e.clientX / window.innerWidth) * 20 + 10; // Reverse for right side
            const y = (e.clientY / window.innerHeight) * 20 - 10;
            whatsappButton.style.transform = `translate(${x}px, ${y}px)`;
        });
        
        // Auto-hide notification when clicking outside
        document.addEventListener('click', function(e) {
            if (!chatNotification.contains(e.target) && 
                !whatsappButton.contains(e.target) &&
                !chatNotification.classList.contains('hidden')) {
                chatNotification.classList.add('hidden');
                localStorage.setItem('chatNotificationClosed', 'true');
            }
        });
    });
</script>